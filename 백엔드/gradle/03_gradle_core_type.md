# core type
- project class
- task class

## project class
- 하나의 그레이들 빌드 시스템 안에서 프로젝트들을 추상화한 타입
- build.gradle 당 하나의 project object 생성
    - one to one mapping
    - 이 파일을 보고 project object 구성
    - project object는 여러 properties를 가짐
- project properties
    - project name
    - description
    - version
    - directory paths
- [Project properties](https://docs.gradle.org/current/userguide/project_properties.html)

## task class
- Gradle이 하나의 Project에서 할 수 있는 작업은 하나 이상의 `tasks`로 정의된다.
- 작업 단위인 task를 여러 개 만들어서 project에 붙여 사용
- 여러 액션으로 이뤄짐
    - 컴파일 코드
    - running tests
    - packaging applications
- key concepts
    - 하나의 task는 하나의 이름을 가짐
    - 여러 actions를 가질 수 있음
        - 각 action은 task가 실행될 때 순차적으로 실행되는 코드 블락들임
    - 여러 dependencies를 가질 수 있음
- Lifecycle Phases
    - task는 configuration phase(2번째!)에서 만들어진다.
        - task properties와 dependencies가 이 때 정해짐
    - Execution(3번째) 단계에서는 정의된 순서대로 task가 실행된다.
- Types of Tasks
    - Default Tasks
        - build-in tasks들을 기본으로 제공
        - build, test, clean
    - Custom Tasks
        - build script에 작성
- Task Properties
    - name
        - build script에서 reference로 사용될 task의 이름
    - dependsOn
        - 지금 이 task를 실행하기 전에 실행할 task를 지정
    - group, description
        - gradle task list에 있는 tasks들을 설명해주고 분류함
    - enabled
        - task가 반드시 실행되어야 하는지 결정
- Task Actions
    - task가 할 것을 정의
- Task Dependencies
    - task가 실행되기 위해 필요한 task 지정

## task code 예시
```groovy
/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our Samples at https://docs.gradle.org/8.10.2/samples
 */
project.task("prepTask") {
    println "configuring prepTask"
    doLast() {
        println "Doing preparation"
    }
}

task publishDockerImage {
    ext.version = "1.0.0"
    def customVariable = "abc"
    println "customVariable ${customVariable}"
    doFirst() {
        println "publishing DockerImage"
    }
}

task deployingDockerImage(dependsOn: publishDockerImage) {
    onlyIf { publishDockerImage.version == "1.0.0" }
    doFirst() {
        println "deploying DockerImage"
    }
}

task cleanUp {
    doFirst() {
        println "cleaning up..."
    }
}

task fileTask {
    doLast {
        def file = project.file('fileTaskSample.txt')
        file.text = 'Hello, Gradle!'
        println "Created file at ${file.absolutePath}"
    }
}

deployingDockerImage.finalizedBy cleanUp 
// 마지막 task(deployingDockerImage)를 지정하고, 그 후 실행될 작업(cleanUp) 지정

defaultTasks "deployingDockerImage" //  gradle 명령어만 실행시 default로 실행될 task 지정

```



---

- [Using Tasks](https://docs.gradle.org/current/userguide/tutorial_using_tasks.html)


