# 큰 그림

## 기본 구조
- 네트워크는 노드와 간선으로 이루어진 `그래프`의 형태를 띈다.
    - 노드 == 기기
    - 간선 == 유무선 통신 매체
- 네트워크 토폴로지
    - 노드와 노드 사이의 연결 구조
    - 노드가 어떻게 연결되고 배치되는가
    - 망형, 트리형, 링형, 성형, 버스형
- 종단 노드 - `호스트`
    - 종단에 있는 송신, 수신 주체
    - 네트워크 기기가 호스트
    - 구글 접속
        - 노트북과 구글 서버가 각각 호스트
    - 정보의 방향에 따른 분류
        - 클라이언트: 요청을 보내는 호스트
        - 서버: 응답을 보내는 호스트
- 중간 노드 - `네트워크 장비`
    - 정보를 수신지까지 전달하는 역할
    - 스위치, 라우터, 공유기

#### LAN과 WAN
- 전세계의 네트워크가 하나의 그래프로 되어 있지 않음.
    - 여러 개의 네트워크로 나눠짐.
    - 규모에 따라 LAN과 WAN으로 나눔
- `LAN` - Local Area Network
    - 가까운 거리를 연결하는 한정된 공간에서의 네트워크
    - 공유기를 통해 구성된 네트워크
- `WAN` - Wide Area Network
    - 원거리 네트워크
    - WAN을 통해 LAN 간 통신. 이를 통해 인터넷이 가능해짐.
    - `ISP`(Internet Service Provider) => 인터넷 서비스 업체
        - WAN을 구축하고 관리
        - KT, LG유플러스, SK브로드밴드

#### 패킷 교환 네트워크
- 메시지 교환 방식에 따른 네트워크 분류
    - `패킷 교환 네트워크` vs `회선 교환 방식`
    - 인터넷 네트워크는 패킷 교환 네트워크 사용
    - 회선 교환 방식은 호스트간 회선을 점유하여 네트워크 이용 효율이 좋지 못함
- 데이터는 한 번에 송수신 되지 않고, 여러 데이터로 쪼개져서 송수신 됨
- 네트워크를 통해 송수신되는 데이터의 단위를 `패킷`이라고 함
- 패킷 단위로 데이터를 쪼개서 송수신하고 수신지에서 재조립하는 방식
- 패킷의 구성
    - `페이로드`
        - 전송하고자 하는 데이터
    - `헤더`, 트레일러
        - 패킷에 대한 부가 정보

#### 주소의 개념과 전송 방식
- 주소
    - 정보 교환을 위해 서로를 특정할 수 있는 정보인 주소 필요
    - 패킷 헤더에 명시
    - IP 주소, MAC 주소
- `유니캐스트`
    - 특정 주소로 송신
- `브로드캐스트`
    - 네트워크 상 모든 호스트에게 메시지 전송
    - `브로드캐스트 도메인`
        - 브로드캐스트가 전송되는 범위
- 멀티캐스트
    - 네트워크 내 동일 그룹에 속한 호스트에게만 전송
- 애니캐스트
    - 네트워크 내 동일 그룹 내 가장 가까운 호스트에게만 전송

---

## 두 호스트가 패킷을 주고 받는 과정
- 호스트는 패킷(주고 받는 정보)을 이해할 수 있어야 하고, 올바르게 주고받을 수 있어야 함
- 패킷을 이해하기 위한 규칙
    - 프로토콜
    - 네트워크 참조 모델

#### 프로토콜
- 네트워크에서 통신을 주고받는 노드 간의 합의된 규칙이나 방법
- 네트워크 언어 같음
- 호스트 뿐 아니라 중간에 있는 네트워크 장비들도 패킷을 이해할 수 있어야 함. 이를 위해 정한 규칙이 프로토콜
- 프로토콜마다 목적과 특징이 다름
    - ip: 주소를 지정한다는 목적을 가진 프로토콜
    - ARP: IP 주소와 MAC 주소를 대응시킨다는 목적을 지닌 프로토콜
    - HTTPS: 보안상 HTTP에 비해 안전
    - TCP: UDP에 비해 신뢰성이 높음
- 패킷 내용도 프로토콜에 따라 다름
    - 프로토콜의 목적과 특징에 따라 패킷 헤더를 가짐

#### 네트워크 참조 모델
- 패킷을 주고 받는 과정에서 정형화된 순서가 있고 계층적으로 표현할 수 있음
- _통신이 이루어지는 단계를 계층적으로 표현한 것_ 을 `네트워크 참조 모델`이라고 함
- 패킷을 송신하는 쪽은 상위 계층에서 하위 계층으로, 수신하는 쪽은 하위 계층에서 상위 계층으로 정보를 받음
- 각 계층이 하는 일을 명확하게 정의하여 계층별 목적에 맞는 프로토콜과 장비를 구성하고, 
- 이를 통해 네트워크의 구성과 설계, 문제의 진단과 해결이 용이해짐
- _OSI 모델_
    - ISO에서 만든 네트워크 참조 모델
    - 통신 단계를 7개의 계층으로 나눔
- _TCP/IP 모델_
    - 4계층으로 구성
    - 네트워크 엑세스 계층(링크 계층), 인터넷 계층, 전송 계층, 응용 계층
    - OSI 모델이 이론적 기술을 목적으로 사용된다면 TCP/IP 모델은 구현과 프로토콜에 중점을 둠 
- 5계층 모델
    - Computer Networking: A Top-Down Approach 에서 교육용으로 정의
    - TCPIP 4계층에 물리 계층을 추가하여 5계층으로 설명

#### 캡슐화와 역캡슐화
- 송신 과정에서는 캡슐화, 수신 과정에서는 역캡슐화가 이루어짐
- 캡슐화
    - 송신 과정에서 헤더를 추가해 나가는 과정
- 역캡슐화
    - 캡슐화 과정에서 붙인 헤더를 각 계층에서 확인한 뒤 제거하는 과정
- 각 계층에서 주고받는 패킷(메시지)를 지칭하는 이름이 다름 - PDU

#### PDU
- Protocol Data Unit
- 각 계층에서 송수신되는 메시지의 단위
- 상위 계층에서 전달받은 데이터에 현재 계층의 프로토콜 헤더를 추가하면 현재 계층의 PDU가 됨
- 계층 별 PDU
    - 응용, 표현, 세션 계층 : Data
    - 전송 계층 : segment, datagram
    - 네트워크 계층 : packet
    - 데이터 링크 계층 : frame
    - 물리 계층 : bit


## 참조
- 혼자 공부하는 네트워크
- 이것이 컴퓨터 과학이다

