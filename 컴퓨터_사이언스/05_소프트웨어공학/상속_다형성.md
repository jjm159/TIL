# 상속과 다형성

### 상속

#### 위키백과 曰
객체 지향 프로그래밍(OOP)에서, 상속(inheritance)은 객체들 간의 관계를 구축하는 방법이다. 클래스로 객체가 정의되는 고전 상속에서, 클래스는 기반 클래스, 수퍼클래스, 또는 부모 클래스 등의 기존의 클래스로부터 속성과 동작을 상속받을 수 있다. 그 결과로 생기는 클래스를 파생 클래스, 서브클래스, 또는 자식 클래스라고 한다. 상속을 통한 클래스들의 관계는 계층을 형성한다. 프로토타입 기반 프로그래밍에서는, 객체가 클래스를 따로 정의할 필요 없이 다른 객체로부터 직접 정의될 수 있다. 이러한 특징을 차등 상속이라고 부른다.


### 다형성

#### 위키백과 曰
프로그램 언어의 다형성(多形性, polymorphism; 폴리모피즘)은 그 프로그래밍 언어의 자료형 체계의 성질을 나타내는 것으로, 프로그램 언어의 각 요소들(상수, 변수, 식, 오브젝트, 함수, 메소드 등)이 다양한 자료형(type)에 속하는 것이 허가되는 성질을 가리킨다. 반댓말은 단형성(monomorphism)으로, 프로그램 언어의 각 요소가 한가지 형태만 가지는 성질을 가리킨다.

### 생각 곁들이기

앞서 객체지향은 중복되는 코드를 줄이기 위해 프로그래밍 대상이 되는 오브젝트들의 속성들의 공통점과 차이점을 구분하여 공통점을 기준으로 분류하는 방식으로 프로그래밍을 하는 패러다임이라고 이야기 했다. 이 공통점을 묶는 행위는 '상속'이라는 기술로 구현된다. 

각각의 대상들의 클래스의 공통된 속성들은 각 클래스마다 같은 내용이 공통으로 적히게 된다. 객체지향에서는 이 공통점들을 추려서 새로운 클래스를 만든다. 그리고 '상속'이라는 기술을 사용하여 이 공통점들을 나눠주는 것이다. 이렇게 하면 중복되는 공통된 부분들을 한 번만 작성해도 된다. 

예를 들어, 축구와 농구는 모두 구기 종목이라는 공통점을 가지고 있다. 구기 종목이 가지는 특성을 축구와 농구 모두 공통적으로 가지고 있다. 만약 상속이 없다면 같은 속성이라도 축구 class와 농구 class에 중복된 코드를 두 번이나 적어야 한다. 하지만 상속이 있다면 다음과 같이 한 번에 끝난다.

```swift
protocol 구기종목 { 드리블, 패스, 슛 }
class 축구: 구기종목 { 
	func 드리블 { 발로 함 }
	...
}
class 농구: 구기종목 {
	func 드리블 { 손으로 함 }
	...
}
```

하지만 축구의 드리블과 농구의 드리블은 똑같지 않다. 축구는 발로하고 농구는 손으로 하기 때문이다. 그래서 상속받는 클래스에서는 이 함수를 각 클래스의 기능에 맞게 정의를 해주어야 한다. 만약 부모가 protocol이면 이 행위를 conform이라 하고, 부모가 class인 경우에는 이 행위를 override라고 한다. override인 경우에는 func 앞에 override 키워드를 적어주어야 한다. 

이렇게 많은 코드 중복을 줄일 수 있게 되었다. 하지만 아직 모자르다. 

```swift
func 드리블( 종목: 구기종목 ) {
	if 종목 == 축구 {
		축구.드리블()
	}
	else 종목 == 농구 {
		농구.드리블()		 
	}
}
```

위와 같이 함수를 실행 시킬 때 마다 해당 객체가 어떤 타입의 객체인지를 파악하고 그 타입의 함수를 호출해주어야 한다. 만약 종목이 늘어나게 된다면 코드의 양은 어마무시하게 늘어날 것이다. 이를 해결한 기술이 다형성이다. 

다형성은 부모 타입으로 선언된 객체가, 이 부모 타입을 상속받은 자식 객체를 참조하는 경우에, 자식 객체의 타입에 맞는 메서드를 자동으로 호출해준다. 

```swift
func 드리블( 종목: 구기종목 ) {
	종목.드리블()
}
```

만약 인자가 축구 객체라면 발로하는 드리블 메서드가 호출될 것이고 농구 객체라면 손으로 드리블하는 메서드가 호출될 것이다. 

이렇게 상속과 다형성은 공통점을 추려내어 중복 코드를 줄여나가는 객체지향 패러다임의 핵심 기능이라고 할 수 있다.

---

### 참고

[다형성을 왜 사용해야 하는가?](https://m.blog.naver.com/tipsware/221091548997)

[다형성의 구현 원리](https://m.blog.naver.com/tipsware/221090668685)